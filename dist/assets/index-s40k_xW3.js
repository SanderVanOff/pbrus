import{H as N,C as k}from"./index-eFjSoLDB.js";import{u as B}from"./validators-_-2zLq2a.js";import{u as A,q as $,d as V,r as u,a as c,o as w,c as h,w as v,e as a,b,n as s,f as q,y as E,p as F,g as H,_ as x,l as j}from"./index-Njdadao4.js";import{u as z}from"./uuidv4-qdT5rVQP.js";const L=()=>({registration:async(m,r,p,_)=>{const l=A(),o={id:z(),email:m,password:r,username:p,role:_};await l.registerNewUser(o),$().setCurrentUser(o)}}),T=L,D=n=>(F("data-v-0c6f58e1"),n=n(),H(),n),G=D(()=>b("div",{class:"registration-form__header"},"Registration",-1)),J={class:"registration-form__content"},K={class:"registration-form__actions"},M=V({__name:"index",setup(n){const m=T(),{required:r,isEmail:p,valueLength:_}=B(),l=u(null),o=u(null),i=u(null),d=u("developer"),y=u([{name:"developer"},{name:"admin"}]),f=u(!1),U=async()=>{o.value&&i.value&&l.value&&d.value&&(await m.registration(o.value,i.value,l.value,d.value),o.value=null,i.value=null,l.value=null,d.value="developer",await E.push({name:"main"}))};return(W,t)=>{const g=c("v-text-field"),C=c("v-combobox"),R=c("v-btn"),S=c("v-form"),I=c("v-card");return w(),h(I,{class:"registration-form"},{default:v(()=>[a(S,{modelValue:f.value,"onUpdate:modelValue":t[4]||(t[4]=e=>f.value=e)},{default:v(()=>[G,b("div",J,[a(g,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),label:"username",variant:"outlined",density:"compact",rules:[s(r)]},null,8,["modelValue","rules"]),a(g,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value=e),label:"e-mail",variant:"outlined",density:"compact",rules:[s(r),s(p)]},null,8,["modelValue","rules"]),a(g,{modelValue:i.value,"onUpdate:modelValue":t[2]||(t[2]=e=>i.value=e),label:"password",type:"password",variant:"outlined",density:"compact",rules:[s(r),e=>s(_)(e,6)]},null,8,["modelValue","rules"]),a(C,{modelValue:d.value,"onUpdate:modelValue":t[3]||(t[3]=e=>d.value=e),label:"role",density:"compact",variant:"outlined",items:y.value,"item-title":"name","item-value":"name","return-object":!1},null,8,["modelValue","items"])]),b("div",K,[a(R,{disabled:!f.value,density:"compact",color:"blue-accent-4",style:{"font-size":"10px"},onClick:U},{default:v(()=>[q(" register ")]),_:1},8,["disabled"])])]),_:1},8,["modelValue"])]),_:1})}}}),O=x(M,[["__scopeId","data-v-0c6f58e1"]]),P={class:"registration-view"},Q=V({__name:"index",setup(n){return(m,r)=>(w(),j("div",P,[a(s(N)),a(s(k),{class:"registration-view__content"},{default:v(()=>[a(s(O))]),_:1})]))}}),te=x(Q,[["__scopeId","data-v-b03251bf"]]);export{te as default};
